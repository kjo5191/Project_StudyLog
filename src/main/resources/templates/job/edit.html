<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>지원 일정 수정 - StudyLog</title>
	<link href="/css/styles.css" rel="stylesheet" />
</head>
<body>

	<div th:replace="fragments/navbar :: navbar"></div>

	<div class="container mt-5" style="max-width: 900px;">
		<h3 class="mb-4 text-center fw-semibold">지원 일정 상세</h3>

		<form th:action="@{/job/save}" th:object="${jobApplication}" method="post" class="border bg-white rounded p-4 shadow-sm">
			<input type="hidden" th:field="*{id}" />

			<div class="mb-3">
				<label class="form-label">회사명</label>
				<input type="text" class="form-control" th:field="*{company}" required>
			</div>

			<div class="row">
				<div class="col-md-6 mb-3">
					<label class="form-label">직군</label>
					<input type="text" class="form-control" th:field="*{industry}">
				</div>
				<div class="col-md-6 mb-3">
					<label class="form-label">직무명</label>
					<input type="text" class="form-control" th:field="*{position}">
				</div>
			</div>

			<div class="mb-3">
				<label class="form-label">지원 상태</label>
				<input type="text" class="form-control" th:field="*{status}">
			</div>

			<div class="row">
				<div class="col-md-6 mb-3">
					<label class="form-label">지원일</label>
					<!-- <input type="date" class="form-control" th:field="*{applyDate}"> -->
					<input type="date" class="form-control" name="applyDate"
					 th:value="${jobApplication.applyDate != null} ? ${#temporals.format(jobApplication.applyDate, 'yyyy-MM-dd')} : ''">
				</div>
				<div class="col-md-6 mb-3">
					<label class="form-label">마감일</label>
					<!-- <input type="date" class="form-control" th:field="*{deadline}"> -->
					<input type="date" class="form-control" name="deadline"
					 th:value="${jobApplication.applyDate != null} ? ${#temporals.format(jobApplication.deadline, 'yyyy-MM-dd')} : ''">
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-3">
					<label class="form-label">1차</label>
					<!-- <input type="date" class="form-control" th:field="*{interview1}"> -->
					<input type="date" class="form-control" name="interview1"
					 th:value="${jobApplication.applyDate != null} ? ${#temporals.format(jobApplication.interview1, 'yyyy-MM-dd')} : ''">
				</div>
				<div class="col-md-3">
					<label class="form-label">2차</label>
					<!-- <input type="date" class="form-control" th:field="*{interview2}"> -->
					<input type="date" class="form-control" name="interview2"
					 th:value="${jobApplication.applyDate != null} ? ${#temporals.format(jobApplication.interview2, 'yyyy-MM-dd')} : ''">					 
				</div>
				<div class="col-md-3">
					<label class="form-label">3차</label>
					<!-- <input type="date" class="form-control" th:field="*{interview3}"> -->
					<input type="date" class="form-control" name="interview3"
					 th:value="${jobApplication.applyDate != null} ? ${#temporals.format(jobApplication.interview3, 'yyyy-MM-dd')} : ''">					 
				</div>
				<div class="col-md-3">
					<label class="form-label">4차</label>
					<!-- <input type="date" class="form-control" th:field="*{interview4}"> -->
					<input type="date" class="form-control" name="interview4"
					 th:value="${jobApplication.applyDate != null} ? ${#temporals.format(jobApplication.interview4, 'yyyy-MM-dd')} : ''">					 
				</div>
			</div>

			<div class="mb-3">
				<label class="form-label">비고</label>
				<textarea class="form-control" th:field="*{notes}" rows="3"></textarea>
			</div>

			<div class="text-center">
				<button type="submit" class="btn btn-dark me-2">저장</button>
				<a th:href="@{/job/list}" class="btn btn-outline-secondary me-2">목록</a>
				<button type="submit"
						class="btn btn-outline-danger"
						formaction="#" 
						formmethod="post"
						th:formaction="@{'/job/delete/' + ${jobApplication.id}}"
						onclick="return confirm('정말 삭제할까요?')">
					삭제
				</button>
			</div>

	</div>

	<div th:replace="fragments/footer :: footer"></div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="/js/scripts.js"></script>

</body>
</html>
